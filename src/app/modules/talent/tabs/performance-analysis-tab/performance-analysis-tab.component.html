<!-- unlock page  -->

<div class="unlock_page" *ngIf="!isPremium">
  <div class="card bg-color">
    <div class="card-header border-0">
      <div class="table-responsive">
        <table class="table table-striped table-hover table-users">
  
          <!-- Name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> {{ 'title' | translate }} </th>
            <td mat-cell *matCellDef="let element">
              <div class="d-flex align-items-center">
                <span class="main-template" style="padding-left: 15px">
                  --
                </span>
              </div>
            </td>
          </ng-container>
  
          <!-- Joined Date Column -->
          <ng-container matColumnDef="joinedDate">
            <th mat-header-cell *matHeaderCellDef> {{ 'transferDate' | translate }} </th>
            <td mat-cell *matCellDef="let element">
              --
            </td>
          </ng-container>
  
          <!-- Header row definition -->
          <tr mat-header-row *matHeaderRowDef="['name', 'joinedDate']"></tr>
  
          <!-- Data row definition -->
          <tr mat-row *matRowDef="let row; columns: ['name', 'joinedDate']"></tr>
  
        </table>
      </div>
    </div>
  </div>
  <div class="upgrade_unlock">
    <a class="unlock_btn cursor-pointer" href="/talent/plans">
      <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_7084_24851)">
          <path d="M2.83968 18.125C2.41035 18.125 2.0449 17.9742 1.74335 17.6727C1.44179 17.3711 1.29102 17.006 1.29102 16.5773V8.17271C1.29102 7.74465 1.44179 7.37953 1.74335 7.07733C2.0449 6.77578 2.41035 6.625 2.83968 6.625H4.16602V4.70833C4.16602 3.64075 4.53817 2.73512 5.28247 1.99146C6.02614 1.24715 6.93177 0.875 7.99935 0.875C9.06693 0.875 9.97288 1.24715 10.7172 1.99146C11.4615 2.73576 11.8333 3.64139 11.8327 4.70833V6.625H13.16C13.588 6.625 13.9532 6.77578 14.2553 7.07733C14.5569 7.37889 14.7077 7.74433 14.7077 8.17367V16.5773C14.7077 17.0053 14.5569 17.3705 14.2553 17.6727C13.9538 17.9742 13.5887 18.125 13.16 18.125H2.83968ZM2.83968 17.1667H13.16C13.3318 17.1667 13.473 17.1114 13.5836 17.0009C13.6941 16.8903 13.7493 16.7492 13.7493 16.5773V8.17271C13.7493 8.00085 13.6941 7.85965 13.5836 7.74913C13.473 7.6386 13.3318 7.58333 13.16 7.58333H2.83872C2.66686 7.58333 2.52567 7.6386 2.41514 7.74913C2.30461 7.85965 2.24935 8.00117 2.24935 8.17367V16.5773C2.24935 16.7492 2.30461 16.8903 2.41514 17.0009C2.52567 17.1114 2.66718 17.1667 2.83968 17.1667ZM7.99935 13.8125C8.40377 13.8125 8.74429 13.6739 9.02093 13.3966C9.29821 13.1199 9.43685 12.7794 9.43685 12.375C9.43685 11.9706 9.29821 11.6301 9.02093 11.3534C8.74365 11.0768 8.40313 10.9381 7.99935 10.9375C7.59557 10.9369 7.25504 11.0755 6.97777 11.3534C6.70049 11.6301 6.56185 11.9706 6.56185 12.375C6.56185 12.7794 6.70049 13.1199 6.97777 13.3966C7.2544 13.6739 7.59493 13.8125 7.99935 13.8125ZM5.12435 6.625H10.8743V4.70833C10.8743 3.90972 10.5948 3.2309 10.0358 2.67188C9.47678 2.11285 8.79796 1.83333 7.99935 1.83333C7.20074 1.83333 6.52192 2.11285 5.96289 2.67188C5.40386 3.2309 5.12435 3.90972 5.12435 4.70833V6.625Z" fill="white"/>
          </g>
          <defs>
          <clipPath id="clip0_7084_24851">
          <rect width="14" height="19" fill="white" transform="translate(0.5)"/>
          </clipPath>
          </defs>
      </svg>    
      {{'upgradeToUnlock'|translate}}
    </a>
  </div> 
</div>

<div class="card bg-color" *ngIf="isPremium">
  <div class="card-header border-0">
    <div class="d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center">
        <!-- Select All Checkbox -->
        <div class="dropdown dropdown-favourites">
          <div class="form-check">
            <input 
              class="form-check-input" 
              type="checkbox" 
              id="flexCheckDefaultAll" 
              [(ngModel)]="allSelected" 
              (click)="selectAllReports()"
            />
          </div>
        </div>

        <a class="btn btn-outline-white ms-2 delete-text" id="users-icon" (click)="downloadSelectedReports()">
          <svg class="pointer pe-2" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="#787878" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M9 11.5117L12 14.5117L15 11.5117M12 14.5117V6.51172M6 16.5117C9.89 17.8117 14.11 17.8117 18 16.5117" stroke="#787878" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          {{ 'downloadAll' | translate }}
        </a>
        
        <a class="btn btn-outline-white ms-2 delete-text" id="users-icon" (click)="deleteReports()">
          <svg width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg" class="me-1">
            <path d="M5.49967 17.5589C5.49967 18.5112 6.32467 19.2904 7.33301 19.2904H14.6663C15.6747 19.2904 16.4997 18.5112 16.4997 17.5589V7.16999H5.49967V17.5589ZM17.4163 4.57277H14.208L13.2913 3.70703H8.70801L7.79134 4.57277H4.58301V6.30425H17.4163V4.57277Z" fill="#787878"></path>
          </svg>
          {{ 'delete' | translate }}
        </a>

        <a class="btn btn-success mx-2 py-1 px-3 delete-text add_new-btn" id="users-icon" (click)="openAddReport()">
          {{ 'addNew' | translate }}
        </a>
      </div>
    </div>

    <div class="">
      <table mat-table [dataSource]="reports" class="table table-striped table-hover table-users">
        <!-- Checkbox Column -->
        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef> </th>
          <td mat-cell *matCellDef="let element">
            <span class="form-check align-self-center">
              <input 
                type="checkbox" 
                class="form-check-input" 
                [(ngModel)]="element.selected" 
                (change)="onCheckboxChange(element)"
                />
            </span>
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="Name">
          <th mat-header-cell *matHeaderCellDef> {{ 'title' | translate }} </th>
          <td mat-cell *matCellDef="let element">
            <div class="d-flex align-items-center">
              <span class="main-template" style="padding-left: 15px">{{ element.document_title }}</span>
            </div>
          </td>
        </ng-container>

        <!-- Joined Date Column -->
        <ng-container matColumnDef="joinedDate">
          <th mat-header-cell *matHeaderCellDef> {{ 'transferDate' | translate }} </th>
          <td mat-cell *matCellDef="let element"> {{ element.created_at | date: 'dd.MM.yyyy - hh.mm a' }} </td>
        </ng-container>

        <!-- Download Column -->
        <ng-container matColumnDef="Download">
          <th mat-header-cell *matHeaderCellDef class="text-center"> {{ 'downloadPerformanceReport' | translate }} </th>
          <td mat-cell *matCellDef="let element" class="text-center">
              <svg (click)="downloadInvoice(element.id,path+element.file_name,element.file_type)" class="pointer pe-2" width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="#787878" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M9 11.5117L12 14.5117L15 11.5117M12 14.5117V6.51172M6 16.5117C9.89 17.8117 14.11 17.8117 18 16.5117" stroke="#787878" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="['select', 'Name', 'joinedDate', 'Download']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['select', 'Name', 'joinedDate', 'Download']"></tr>
      </table>
    </div>
  </div>
</div>
