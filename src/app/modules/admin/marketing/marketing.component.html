<div class="page-content">
  <div class="main-wrapper">
    <div class="card p-0 border-0">
      <div class="card-header border-0 p-3">
        <div class="d-flex align-items-center justify-content-between marketing-header-bar">
          <div class="d-flex align-items-center heading w-100">
            <div>
              <h2 class="card-title mb-0 me-3">{{ 'systemPop-Ups' | translate }}</h2>
            </div>
            <div><a class="btn btn-success btn-sm web-create-bg" (click)="createSystemPoup()">{{ 'createNew' | translate
                }}</a></div>
          </div>
          <div class="card-search p-1">
            <div class="input-group">
              <span class="input-group-text"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <g opacity="0.5">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M9.1441 11.9881C11.8739 10.8279 13.1464 7.67448 11.9863 4.94465C10.8261 2.21481 7.67265 0.942328 4.94281 2.10248C2.21297 3.26263 0.94049 6.4161 2.10064 9.14593C3.2608 11.8758 6.41426 13.1483 9.1441 11.9881Z"
                      class="custom-search" stroke="black" stroke-width="1.2" stroke-linecap="round"
                      stroke-linejoin="round"></path>
                    <path d="M10.8408 10.8398L15.0062 15.0058" class="custom-search" stroke="black" stroke-width="1.2"
                      stroke-linecap="round" stroke-linejoin="round"></path>
                  </g>
                </svg></span><input type="text" placeholder="{{ 'search' | translate }}" aria-label="Username" (keyup)="applyFilter($event)"
                aria-describedby="basic-addon1" class="form-control ps-0" />
            </div>
            <div class="d-flex align-items-center pe-2 border-start ps-3 cursor-pointer filter-svg"
              (click)="showFilterPopup()">
              <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg"
                class="me-2">
                <path
                  d="M16.5938 6.23438H1.40625C1.18247 6.23438 0.967862 6.14054 0.809629 5.97352C0.651395 5.80649 0.5625 5.57996 0.5625 5.34375C0.5625 5.10754 0.651395 4.88101 0.809629 4.71398C0.967862 4.54696 1.18247 4.45313 1.40625 4.45312H16.5938C16.8175 4.45312 17.0321 4.54696 17.1904 4.71398C17.3486 4.88101 17.4375 5.10754 17.4375 5.34375C17.4375 5.57996 17.3486 5.80649 17.1904 5.97352C17.0321 6.14054 16.8175 6.23438 16.5938 6.23438ZM13.7812 10.3906H4.21875C3.99497 10.3906 3.78036 10.2968 3.62213 10.1298C3.46389 9.96274 3.375 9.73621 3.375 9.5C3.375 9.26379 3.46389 9.03726 3.62213 8.87023C3.78036 8.70321 3.99497 8.60938 4.21875 8.60938H13.7812C14.005 8.60938 14.2196 8.70321 14.3779 8.87023C14.5361 9.03726 14.625 9.26379 14.625 9.5C14.625 9.73621 14.5361 9.96274 14.3779 10.1298C14.2196 10.2968 14.005 10.3906 13.7812 10.3906ZM10.4062 14.5469H7.59375C7.36997 14.5469 7.15536 14.453 6.99713 14.286C6.83889 14.119 6.75 13.8925 6.75 13.6562C6.75 13.42 6.83889 13.1935 6.99713 13.0265C7.15536 12.8595 7.36997 12.7656 7.59375 12.7656H10.4062C10.63 12.7656 10.8446 12.8595 11.0029 13.0265C11.1611 13.1935 11.25 13.42 11.25 13.6562C11.25 13.8925 11.1611 14.119 11.0029 14.286C10.8446 14.453 10.63 14.5469 10.4062 14.5469Z"
                  fill="#787878"></path>
              </svg>
              <span class="input-filter-text">{{ 'filter' | translate }}</span>
            </div>
          </div>
        </div>
        <div class="d-flex align-items-center justify-content-between mt-1">
          <div class="d-flex align-items-center">
            <div class="dropdown dropdown-market">
              <button class="btn btn-secondary dropdown-toggle checkbox-button-user" type="button"
                (click)="selectAllPopups()">

                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"
                    [checked]="allSelected" />
                </div>
                <svg width="9" height="5" viewBox="0 0 9 5" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M4.08333 3.25838L0.995812 0.170854C0.768006 -0.0569515 0.39866 -0.0569515 0.170854 0.170854C-0.0569515 0.39866 -0.0569515 0.768006 0.170854 0.995812L3.67085 4.49581C3.89866 4.72362 4.26801 4.72362 4.49581 4.49581L7.99581 0.995812C8.22362 0.768006 8.22362 0.39866 7.99581 0.170854C7.76801 -0.0569515 7.39866 -0.0569515 7.17085 0.170854L4.08333 3.25838Z"
                    fill="#646464" />
                </svg>
              </button>
            </div>

            <a class="btn btn-outline-white" (click)="confirmDeletion()">
              <svg id="users-icon" width="22" height="23" viewBox="0 0 22 23" fill="none"
                xmlns="http://www.w3.org/2000/svg" class="me-1">
                <path
                  d="M5.49967 17.5589C5.49967 18.5112 6.32467 19.2904 7.33301 19.2904H14.6663C15.6747 19.2904 16.4997 18.5112 16.4997 17.5589V7.16999H5.49967V17.5589ZM17.4163 4.57277H14.208L13.2913 3.70703H8.70801L7.79134 4.57277H4.58301V6.30425H17.4163V4.57277Z"
                  fill="#787878"></path>
              </svg>
              {{ 'delete' | translate }}</a>
          </div>
          <div class="d-flex align-items-center">
            <mat-paginator class="paginator-components bg-072944 pagination-values" [length]="0" [pageSize]="10"
              (page)="onPageChange()"></mat-paginator>
          </div>
        </div>
      </div>
      <div>
        <div class="table-responsive">
          <table mat-table [dataSource]="popups" class="table table-hover table-striped table-users m-0">
            <ng-container matColumnDef="#">
              <th mat-header-cell *matHeaderCellDef> </th>
              <td mat-cell *matCellDef="let element" class="d-flex justify-content-center">
                <span class="form-check align-self-center me-2">
                  <input type="checkbox" value="" id="defaultCheck1" [checked]="selectedIds.includes(element.id)"
                    (change)="onCheckboxChange(element)" class="form-check-input" />
                  <label for="defaultCheck1" class="form-check-label"></label>
                </span>
              </td>
            </ng-container>
            <ng-container matColumnDef="Name">
              <th mat-header-cell *matHeaderCellDef>{{ 'name' | translate }} </th>
              <td mat-cell *matCellDef="let element"> {{ element.title }}</td>
            </ng-container>
            <ng-container matColumnDef="For">
              <th mat-header-cell *matHeaderCellDef> {{ 'for' | translate }} </th>
              <td mat-cell *matCellDef="let element"> {{ getRoleTypes(element.popupfor) }}</td>
            </ng-container>
            <ng-container matColumnDef="Language">
              <th mat-header-cell *matHeaderCellDef> {{ 'language' | translate }} </th>
              <td mat-cell *matCellDef="let element"> {{ element.popup_language }}</td>
            </ng-container>
            <ng-container matColumnDef="Display Freq">
              <th mat-header-cell *matHeaderCellDef> {{ 'displayFreq' | translate }} </th>
              <td mat-cell *matCellDef="let element"> {{ element.frequency }}</td>
            </ng-container>
            <ng-container matColumnDef="Display Location">
              <th mat-header-cell *matHeaderCellDef> {{ 'displayLocation' | translate }}</th>
              <td mat-cell *matCellDef="let element"> {{ element.popup_location }}</td>
            </ng-container>
            <ng-container matColumnDef="Start Date">
              <th mat-header-cell *matHeaderCellDef> {{ 'startDate' | translate }} </th>
              <td mat-cell *matCellDef="let element">{{ element.start_date | date:'dd.MM.yyyy' }}</td>
            </ng-container>
            <ng-container matColumnDef="End Date">
              <th mat-header-cell *matHeaderCellDef> {{ 'endDate' | translate }} </th>
              <td mat-cell *matCellDef="let element">{{ element.end_date | date:'dd.MM.yyyy' }}</td>
            </ng-container>
            <ng-container matColumnDef="Status">
              <th mat-header-cell *matHeaderCellDef>{{ 'status' | translate }}</th>
              <td mat-cell *matCellDef="let element">
                <span class="bg_success" *ngIf="element.status == 'active'">{{ 'active' | translate }}</span>
                <span class="bg_reject" *ngIf="element.status == 'inactive'">{{ 'inactive' | translate }}</span>
              </td>
            </ng-container>
            <ng-container matColumnDef="Edit">
              <th mat-header-cell *matHeaderCellDef>{{ 'edit' | translate }}</th>
              <td mat-cell *matCellDef="let element">
                <svg (click)="editPopup(element)" id="users-icon" class="pointer" width="24" height="24"
                  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M3 17.4585V20.4985C3 20.7785 3.22 20.9985 3.5 20.9985H6.54C6.67 20.9985 6.8 20.9485 6.89 20.8485L17.81 9.93854L14.06 6.18854L3.15 17.0985C3.05 17.1985 3 17.3185 3 17.4585ZM20.71 7.03854C20.8027 6.94602 20.8762 6.83614 20.9264 6.71516C20.9766 6.59419 21.0024 6.46451 21.0024 6.33354C21.0024 6.20257 20.9766 6.07289 20.9264 5.95191C20.8762 5.83094 20.8027 5.72105 20.71 5.62854L18.37 3.28854C18.2775 3.19583 18.1676 3.12229 18.0466 3.07211C17.9257 3.02192 17.796 2.99609 17.665 2.99609C17.534 2.99609 17.4043 3.02192 17.2834 3.07211C17.1624 3.12229 17.0525 3.19583 16.96 3.28854L15.13 5.11854L18.88 8.86854L20.71 7.03854Z"
                    fill="#787878" />
                </svg>

              </td>
            </ng-container>
            <ng-container matColumnDef="Remove">
              <th mat-header-cell *matHeaderCellDef class="text-center"> {{ 'remove' | translate }}</th>
              <td mat-cell *matCellDef="let element" class="text-center">
                <svg (click)="confirmSingleDeletion(element.id)" id="users-icon" width="22" height="23"
                  viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg" class="me-1 pointer">
                  <path
                    d="M5.49967 17.5589C5.49967 18.5112 6.32467 19.2904 7.33301 19.2904H14.6663C15.6747 19.2904 16.4997 18.5112 16.4997 17.5589V7.16999H5.49967V17.5589ZM17.4163 4.57277H14.208L13.2913 3.70703H8.70801L7.79134 4.57277H4.58301V6.30425H17.4163V4.57277Z"
                    fill="#787878"></path>
                </svg>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            <tr class="mat-row user-empty-tr" *matNoDataRow>
              <td [attr.colspan]="displayedColumns.length" class="user-empty-td">
                <app-loader *ngIf="isLoading"></app-loader>
                <div *ngIf="popups.length == 0 && !isLoading" style="text-align: center;">{{ 'noRecordFound' | translate
                  }}</div>
              </td>
            </tr>
          </table>
        </div>

      </div>
    </div>
    <!-- <app-footer></app-footer> -->
  </div>
</div>